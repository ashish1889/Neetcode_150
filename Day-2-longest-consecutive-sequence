Q- https://neetcode.io/problems/longest-consecutive-sequence?list=neetcode150

1. Bruteforce-

C++ solution-

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        int res = 0;
        unordered_set<int> store(nums.begin(), nums.end());

        for (int num : nums) {
            int streak = 0, curr = num;
            while (store.find(curr) != store.end()) {
                streak++;
                curr++;
            }
            res = max(res, streak);
        }
        return res;
    }
};

Python solution-
Kotlin solution-

Time & Space Complexity
Time complexity: O(n^2)
Space complexity: O(n)



2. Sorting-

C++ solution-

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        if (nums.empty()) return 0;
        sort(nums.begin(), nums.end());
        //++Debugging comments
        cout<<"Sorted numbers"<<endl;
        for(int n : nums)
        cout<<n<<" ,";
        cout<<endl;
        //--Debugging comments

        int res = 0, curr = nums[0], streak = 0, i = 0;

        while (i < nums.size()) {
            if (curr != nums[i]) {
                curr = nums[i];
                streak = 0;
                //++Debugging comments
                cout<<"in if condition, curr changed: "<<curr<<endl;
                //--Debugging comments
            }
            while (i < nums.size() && nums[i] == curr) {
                i++;
                //++Debugging comments
                cout<<"inside while loop nums: "<<nums[i]<<endl;
                //--Debugging comments
            }
            streak++;
            curr++;
            res = max(res, streak);
        }
        return res;
    }
};

Here the inner while loop is for incrementing i while the number is in successive sequence.Same can be seen in Stdout result.

I/p-
nums=[9,1,4,7,3,-1,0,5,8,-1,6]

Stdout-

Sorted numbers
-1 ,-1 ,0 ,1 ,3 ,4 ,5 ,6 ,7 ,8 ,9 ,
inside while loop nums: -1
inside while loop nums: 0
inside while loop nums: 1
inside while loop nums: 3
in if condition, curr changed: 3
inside while loop nums: 4
inside while loop nums: 5
inside while loop nums: 6
inside while loop nums: 7
inside while loop nums: 8
inside while loop nums: 9
inside while loop nums: 0

O/p-
7

Python solution-
Kotlin solution-



Time & Space Complexity
Time complexity:O(nlogn)
Space complexity:O(1) or O(n) depending on sorting algorithm



3. Hash Set-

Here the logic is that , set is being checked whether the given number  has the left side neighbour or not, if no left neighbour then its the start of sequence.

C++ solution-

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        unordered_set<int> numSet(nums.begin(), nums.end());
        int longest = 0;

        for (int num : numSet) {
            if (numSet.find(num - 1) == numSet.end()) {
                int length = 1;
                while (numSet.find(num + length) != numSet.end()) {
                    length++;
                }
                longest = max(longest, length);
            }
        }
        return longest;
    }
};


Python solution-
Kotlin solution-

Time & Space Complexity
Time complexity: O(n)
Space complexity: O(n)


4. HashMap-

C++ solution-

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        unordered_map<int, int> mp;
        int res = 0;

        for (int num : nums) {
            cout<<"Value of num: "<<num<<" in map: "<<mp[num]<<endl;
            if (!mp[num]) {
                mp[num] = mp[num - 1] + mp[num + 1] + 1;
                cout<<"In if value of num in map: "<<mp[num]<<endl;
                mp[num - mp[num - 1]] = mp[num];
                cout<<"In if value of num - mp[num - 1]: "<<num - mp[num - 1]<<endl;
                mp[num + mp[num + 1]] = mp[num];
                cout<<"In if value of num + mp[num + 1]: "<<num + mp[num + 1]<<endl;
                res = max(res, mp[num]);
            }
        }
        return res;
    }
};

I/p:
nums=[9,1,4,7,3,-1,0,5,8,-1,6]

Stdout-

Value of num: 9 in map: 0
In if value of num in map: 1
In if value of num - mp[num - 1]: 9
In if value of num + mp[num + 1]: 9
Value of num: 1 in map: 0
In if value of num in map: 1
In if value of num - mp[num - 1]: 1
In if value of num + mp[num + 1]: 1
Value of num: 4 in map: 0
In if value of num in map: 1
In if value of num - mp[num - 1]: 4
In if value of num + mp[num + 1]: 4
Value of num: 7 in map: 0
In if value of num in map: 1
In if value of num - mp[num - 1]: 7
In if value of num + mp[num + 1]: 7
Value of num: 3 in map: 0
In if value of num in map: 2
In if value of num - mp[num - 1]: 3
In if value of num + mp[num + 1]: 5
Value of num: -1 in map: 0
In if value of num in map: 1
In if value of num - mp[num - 1]: -1
In if value of num + mp[num + 1]: -1
Value of num: 0 in map: 0
In if value of num in map: 3
In if value of num - mp[num - 1]: -3
In if value of num + mp[num + 1]: 3
Value of num: 5 in map: 0
In if value of num in map: 3
In if value of num - mp[num - 1]: 3
In if value of num + mp[num + 1]: 5
Value of num: 8 in map: 0
In if value of num in map: 3
In if value of num - mp[num - 1]: 5
In if value of num + mp[num + 1]: 11
Value of num: -1 in map: 3
Value of num: 6 in map: 0
In if value of num in map: 7
In if value of num - mp[num - 1]: 3
In if value of num + mp[num + 1]: 9

O/p-
7


Python solution-
Kotlin solution-

Time & Space Complexity
Time complexity: O(n)
Space complexity: O(n)
